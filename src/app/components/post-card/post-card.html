
<div class="post-card">
  <!-- Header con informaciÃ³n del usuario -->
  <div class="post-header">
    <img 
      [src]="post.userId.profilePicture || 'assets/default_avatar.jpg'" 
      [alt]="post.userId.username"
      class="user-avatar"
    >
    <div class="user-info">
      <div class="username">@{{ post.userId.username }}</div>
      <div class="post-time">{{ timeAgo }}</div>
    </div>
    
    <!-- BotÃ³n eliminar (solo para dueÃ±o) -->
    <button 
      *ngIf="showDeleteButton && isOwner"
      (click)="onDelete()"
      class="delete-btn"
      title="Eliminar publicaciÃ³n"
    >
      ğŸ—‘ï¸ Eliminar
    </button>
  </div>

  <!-- Contenido del post -->
  <div class="post-content">
    <h2 class="post-title">{{ post.title }}</h2>
    <p class="post-message">{{ post.content }}</p>

   
    <img 
      *ngIf="post.imageUrl"
      [src]="post.imageUrl" 
      [alt]="post.title"
      class="post-image"
    >

    <!-- MÃºsica (futura implementaciÃ³n) -->
    <div *ngIf="post.music" class="music-section">
      <div class="music-title">
        <span class="music-icon">ğŸµ</span>
        {{ post.music.trackName }}
      </div>
      <div class="music-artist">{{ post.music.artistName }} - {{ post.music.albumName }}</div>
    </div>
    
    <div *ngIf="!post.music && !post.imageUrl" class="empty-music">
      ğŸ“ PublicaciÃ³n de texto
    </div>
  </div>

  <!-- Stats y acciones -->
  <div class="post-actions">
    <div class="action-buttons">
      <!-- BotÃ³n Like -->
      <button 
        (click)="onLike()"
        [class.liked]="hasLiked"
        [class.like-animation]="hasLiked"
        class="action-btn"
        title="{{ hasLiked ? 'Quitar like' : 'Dar like' }}"
      >
        <i>{{ hasLiked ? 'â¤ï¸' : 'ğŸ¤' }}</i>
        <span class="like-count">{{ post.likes.length || 0 }}</span>
      </button>

      <!-- Comentarios -->
      <button 
          class="action-btn" 
          title="Comentarios"
          (click)="toggleComments()"
        >
        <i>ğŸ’¬</i>
        
      </button>
    </div>
  </div>
    <div *ngIf="showComments" class="comments-wrapper">
    <app-comment-section 
      [postId]="post._id"
      (commentAdded)="onCommentAdded()"> 
    </app-comment-section>
  </div>
</div>