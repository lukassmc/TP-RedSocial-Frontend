<!-- src/app/components/navbar/navbar.component.html -->
<nav class="posts-navbar">
  <div class="navbar-content">
    
    <!-- Brand/Logo -->
    <div class="navbar-brand" (click)="goToPosts()">
      <span class="brand-emoji">ðŸŽµ</span>
      <span class="brand-text">Noisy</span>
    </div>

    <!-- NavegaciÃ³n principal -->
    <div class="navbar-links" *ngIf="isAuthenticated">
      <a 
        routerLink="/posts" 
        routerLinkActive="active-link"
        class="nav-link"
      >
        <i class="bi bi-house"></i>
        Publicaciones
      </a>
      <a 
        routerLink="/profile" 
        routerLinkActive="active-link"
        class="nav-link"
      >
        <i class="bi bi-person"></i>
        Mi Perfil
      </a>
    </div>

    <!-- Usuario -->
    <div class="navbar-user" *ngIf="isAuthenticated">
      <div class="user-profile" (click)="toggleUserMenu()">
        <img 
          [src]="currentUser?.profilePicture || defaultAvatarUrl" 
          [alt]="currentUser?.nombre"
          class="profile-image"
        />
        <span class="username">{{ currentUser?.username }}</span>
        <i class="bi bi-chevron-down" [class.rotate-180]="showUserMenu"></i>
      </div>

      <!-- MenÃº desplegable -->
      <div class="user-menu" *ngIf="showUserMenu">
        <div class="menu-header">
          <img 
            [src]="currentUser?.profilePicture || defaultAvatarUrl" 
            [alt]="currentUser?.nombre"
            class="menu-profile-image"
          />
          <div class="menu-user-info">
            <strong>{{ currentUser?.nombre }} {{ currentUser?.apellido }}</strong>
            <span>@{{ currentUser?.username }}</span>
          </div>
        </div>
        
        <div class="menu-divider"></div>
        
        <button (click)="goToProfile()" class="menu-item">
          <i class="bi bi-person"></i>
          Mi Perfil
        </button>
        
        <div class="menu-divider"></div>
        
        <button (click)="logout()" class="menu-item logout-btn">
          <i class="bi bi-box-arrow-right"></i>
          Cerrar SesiÃ³n
        </button>
      </div>
    </div>
  </div>
</nav>